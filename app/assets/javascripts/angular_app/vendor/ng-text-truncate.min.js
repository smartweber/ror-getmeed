!function(){"use strict";angular.module("ngTextTruncate",[]).directive("ngTextTruncate",["$compile","ValidationServices","CharBasedTruncation","WordBasedTruncation",function(n,e,t,o){return{restrict:"A",scope:{text:"=ngTextTruncate",charsThreshould:"@ngTtCharsThreshold",wordsThreshould:"@ngTtWordsThreshold",customMoreLabel:"@ngTtMoreLabel",customLessLabel:"@ngTtLessLabel"},controller:["$scope","$element","$attrs",function(n,e,t){n.toggleShow=function(){n.open=!n.open},n.useToggling=void 0===t.ngTtNoToggling}],link:function(n,s){n.open=!1,e.failIfWrongThreshouldConfig(n.charsThreshould,n.wordsThreshould);var a=parseInt(n.charsThreshould),r=parseInt(n.wordsThreshould);n.$watch("text",function(){s.empty(),a?n.text&&t.truncationApplies(n,a)?t.applyTruncation(a,n,s):s.append(n.text):n.text&&o.truncationApplies(n,r)?o.applyTruncation(r,n,s):s.append(n.text)})}}}]).factory("ValidationServices",function(){return{failIfWrongThreshouldConfig:function(n,e){if(!n&&!e||n&&e)throw"You must specify one, and only one, type of threshould (chars or words)"}}}).factory("CharBasedTruncation",["$compile",function(n){return{truncationApplies:function(n,e){return n.text.length>e},applyTruncation:function(e,t,o){if(t.useToggling){var s=angular.element("<span>"+t.text.substr(0,e)+"<span ng-show='!open'>...</span><span class='btn-link ngTruncateToggleText' ng-click='toggleShow()'ng-show='!open'> "+(t.customMoreLabel?t.customMoreLabel:"more")+"</span><span ng-show='open'>"+t.text.substring(e)+"<span class='btn-link ngTruncateToggleText'ng-click='toggleShow()'> "+(t.customLessLabel?t.customLessLabel:"..less")+"</span></span></span>");n(s)(t),o.append(s)}else o.append(t.text.substr(0,e)+"...")}}}]).factory("WordBasedTruncation",["$compile",function(n){return{truncationApplies:function(n,e){return n.text.split(" ").length>e},applyTruncation:function(e,t,o){var s=t.text.split(" ");if(t.useToggling){var a=angular.element("<span>"+s.slice(0,e).join(" ")+" <span ng-show='!open'>...</span><span class='btn-link ngTruncateToggleText' ng-click='toggleShow()'ng-show='!open'> "+(t.customMoreLabel?t.customMoreLabel:"more")+"</span><span ng-show='open'>"+s.slice(e,s.length).join(" ")+"<span class='btn-link ngTruncateToggleText'ng-click='toggleShow()'> "+(t.customLessLabel?t.customLessLabel:"..less")+"</span></span></span>");n(a)(t),o.append(a)}else o.append(s.slice(0,e).join(" ")+"...")}}}])}();